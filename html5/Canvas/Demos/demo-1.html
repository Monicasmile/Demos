<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        canvas {
            border: 1px solid red;
        }
    </style>
</head>
<body>
    <canvas width="500" height="500"></canvas>
    <script>
        window.onload = function() {
            var canvas = document.querySelector('canvas'),
                ctx = canvas.getContext('2d'),
                cirX = canvas.width / 2,
                cirY = canvas.height / 2,
                r = 200;

            ctx.beginPath();
            ctx.strokeStyle = "gray";
            ctx.lineWidth = 8;
            ctx.arc(cirX, cirY, r, Math.PI / 4 * 3, Math.PI / 4 + Math.PI * 2);
            ctx.stroke();

            ctx.beginPath();
            ctx.strokeStyle = '#49f';
            ctx.font = "80px Arial";
            ctx.textAlign = 'center';
            ctx.textBaseline = 'center';
            ctx.strokeText(50,cirX,cirY);
            ctx.restore();

            ctx.beginPath();
            ctx.strokeStyle = "#49f";
            ctx.lineWidth = 12;
            ctx.arc(cirX, cirY, r, Math.PI / 4 * 3, Math.PI / 2 * 3);
            ctx.stroke();
        }
        // window.onload = function(){
        //     var canvas = document.querySelector('canvas'),
        //         ctx = canvas.getContext('2d'),
        //         cirX = canvas.width/2,
        //         cirY = canvas.height/2,
        //         rad = Math.PI*2/100,
        //         n = 1,
        //         speed = 10,
        //         r = 200;

        //     //绘制最外层的细圈
        //     function writeCircle(){
        //         ctx.save();
        //         ctx.beginPath();
        //         ctx.strokeStyle = '#49f';
        //         ctx.arc(cirX,cirY,r,0,Math.PI*2,false);
        //         ctx.stroke();
        //         ctx.restore();
        //     }
        //     //绘制文本
        //     function writeText(){
        //         ctx.save();
        //         ctx.beginPath();
        //         ctx.strokeStyle = '#49f';
        //         ctx.font = "40px Arial";
        //         ctx.textAlign = 'center';
        //         ctx.textBaseline = 'center';
        //         ctx.strokeText(n.toFixed(0)+'%',cirX,cirY);
        //         ctx.restore();
        //     }
        //     //绘制外层细圈
        //     function writeBlue(){
        //         ctx.save();
        //         ctx.beginPath();
        //         ctx.strokeStyle = "#49f";
        //         ctx.lineWidth = 8;
        //         ctx.arc(cirX,cirY,r,-Math.PI/2,-Math.PI/2+rad*n);
        //         ctx.stroke();
        //         ctx.restore();
        //     }
        //     function write(){
        //         //清除所有，重新绘制
        //         ctx.clearRect(0,0,canvas.width,canvas.height)

        //         writeCircle();
        //         writeText();
        //         writeBlue();
        //         if(n < 100){
        //             n += 0.1;
        //         }else {
        //             n = 0;
        //         }
        //         setTimeout(write, speed);
        //         // requestAnimationFrame(write);
        //     }
        //     write();
        // }
    </script>
</body>
</html>